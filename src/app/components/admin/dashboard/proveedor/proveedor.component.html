<div class="content-wrapper">
    <h3>Proveedores
        <small>Lista de proveedores registrados en el sistema.</small>

    </h3>
    <div class="row">
        <div class="col-md-4">
            <!-- Aside panel-->
            <div class="panel panel-default">

                <div class="panel-body" *ngIf="estado==true">
                    <div *ngIf="loginForm">
                        <form [formGroup]="loginForm">
                            <p class="lead">Nuevo Proveedor</p>
                            <div class="form-group">
                                <label for="inputContact1" class="col-sm-2 control-label">Nombre</label>
                                <div class="col-sm-10">
                                    <input type="text" formControlName="nombre" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.nombre.errors }" />
                                    <div *ngIf="submitted && f.nombre.errors" class="invalid-feedback">
                                        <div *ngIf="f.nombre.errors.required">Nombre es requerido</div>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="form-group">
                                <label for="inputContact1" class="col-sm-2 control-label">Direccion</label>
                                <div class="col-sm-10">
                                    <input type="text" formControlName="direccion" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.direccion.errors }" />
                                    <div *ngIf="submitted && f.direccion.errors" class="invalid-feedback">
                                        <div *ngIf="f.direccion.errors.required">Direccion es requerida</div>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="form-group">
                                <label for="inputContact1" class="col-sm-2 control-label">Telefono</label>
                                <div class="col-sm-10">
                                    <input type="text" formControlName="telefono" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.telefono.errors }" />
                                    <div *ngIf="submitted && f.telefono.errors" class="invalid-feedback">
                                        <div *ngIf="f.telefono.errors.required">Telefono es requerido</div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group" align="center">
                                <button type="button" (click)="onSubmit()" [disabled]="loading" class="btn btn-info">
                                            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                                            Aceptar
                                    </button>
                                <div *ngIf="error" class="alert alert-danger mt-3 mb-0">{{error}}</div>

                            </div>
                        </form>
                    </div>
                </div>

                <div class="panel-body" *ngIf="estado==false">
                    <div *ngIf="loginForm">
                        <form [formGroup]="loginForm">
                            <p class="lead">Editar Proveedor</p>
                            <div class="form-group">
                                <label for="inputContact1" class="col-sm-2 control-label">Nombre</label>
                                <div class="col-sm-10">
                                    <input type="text" formControlName="nombre" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.nombre.errors }" />
                                    <div *ngIf="submitted && f.nombre.errors" class="invalid-feedback">
                                        <div *ngIf="f.nombre.errors.required">Nombre es requerido</div>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="form-group">
                                <label for="inputContact1" class="col-sm-2 control-label">Direccion</label>
                                <div class="col-sm-10">
                                    <input type="text" formControlName="direccion" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.direccion.errors }" />
                                    <div *ngIf="submitted && f.direccion.errors" class="invalid-feedback">
                                        <div *ngIf="f.direccion.errors.required">Direccion es requerida</div>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <div class="form-group">
                                <label for="inputContact1" class="col-sm-2 control-label">Telefono</label>
                                <div class="col-sm-10">
                                    <input type="text" formControlName="telefono" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.telefono.errors }" />
                                    <div *ngIf="submitted && f.telefono.errors" class="invalid-feedback">
                                        <div *ngIf="f.telefono.errors.required">Telefono es requerido</div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group" align="center">
                                <div class="btn-group">
                                    <button type="button" (click)="onSubmit()" [disabled]="loading" class="btn btn-success btn-square">
                                                <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                                                <em class="fa fa-check fa-fw"></em>Editar
                                        </button>
                                    <button type="submit" (click)="cancelar()" class="btn btn-danger btn-square">
                                        <em class="fa fa-times"></em>Cancelar</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <!-- end Aside panel-->
        </div>
        <div class="col-md-8">
            <div class="panel panel-default">
                <div class="panel-heading">Lista de Proveedores
                    <div class="row">
                        <div class="col-lg-5 pull-right">
                            <div class="input-group">
                                <input type="text" placeholder="Buscar" name="search" [(ngModel)]="filter" class="input-sm form-control">
                                <span class="input-group-btn">
                                <button type="button" class="btn btn-sm btn-default">Buscar</button>
                             </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th>#ID</th>
                                    <th>Nombre</th>
                                    <th>Direccion</th>
                                    <th>Telefono</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let p of proveedor">
                                    <td>{{p.idProveedor}}</td>
                                    <td>{{p.nombre}}</td>
                                    <td>{{p.direccion}}</td>
                                    <td>{{p.telefono}}</td>
                                    <td>
                                        <button [routerLink]="['/dashboard/admin/provider/', p.idProveedor]" type="button" class="btn btn-sm btn-default">
                                         <em class="fa fa-pencil"></em>
                                      </button>
                                        <button (click)="borrar(p.idProveedor)" type="button" class="btn btn-sm btn-danger">
                                         <em class="fa fa-trash"></em>
                                      </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="panel-footer">
                </div>
            </div>
        </div>
    </div>
</div>